// Generated by CoffeeScript 1.10.0
(function() {
  var DEBUG, DEBUG_LEVEL, constants, debug, debuggers, protocol;

  constants = require('./constants');

  protocol = require('./protocol')('../amqp-definitions-0-9-1');

  DEBUG = require('debug');

  DEBUG_LEVEL = process.env.AMQP;

  debuggers = {};

  debug = function(name) {
    if (DEBUG_LEVEL == null) {
      return function() {};
    } else {
      return function(level, message) {
        if ((message == null) && (level != null)) {
          message = level;
          level = 1;
        }
        if (level <= DEBUG_LEVEL) {
          if (!debuggers[name]) {
            debuggers[name] = DEBUG(name);
          }
          if (typeof message === 'function') {
            message = message();
          }
          return debuggers[name](message);
        } else {
          return function() {};
        }
      };
    }
  };

  module.exports = {
    constants: constants,
    protocol: protocol,
    debug: debug
  };

}).call(this);
